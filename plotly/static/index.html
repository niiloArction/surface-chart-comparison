<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>

    <div id="tester" style="width:100%;height:100%;"></div>

    <script src="plotly-2.4.2.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
    <script src="xydata.iife.js"></script>
    <script>

        const CONFIG = {
            // NOTE: Columns = X Axis
            columns: 100,
            // NOTE: Rows = Z Axis
            rows: 100,
        }

        const { rows, columns } = CONFIG

        const {
            createSpectrumDataGenerator
        } = xydata

        var z_data=[ ]
              
        createSpectrumDataGenerator()
            .setSampleSize( columns )
            .setNumberOfSamples( rows )
            .generate()
            .toPromise()
            .then(data => {
                data.forEach(element => {
                    z_data.push(element)
                });

                console.log(z_data);
                
                var data = [{
                    z: z_data,
                    type: 'surface'
                }];

                var layout = {
                    title: 'Mt Bruno Elevation',
                    autosize: false,
                    width: 500,
                    height: 500,
                    margin: {
                        l: 65,
                        r: 50,
                        b: 65,
                        t: 90,
                    }
                };
                Plotly.newPlot('tester', data, layout);
            })
        
    </script>
</body>
</html>
